From dbb71e1ae31faef612bda33cd17e7f20fd46ec26 Mon Sep 17 00:00:00 2001
From: Andrew Purtell <apurtell@apache.org>
Date: Fri, 15 Aug 2014 10:29:26 -0700
Subject: [PATCH 20/31] HBASE-11755 VisibilityController returns the wrong value for preBalanceSwitch

Reason: Bug
Author: Matteo Bertozzi
Ref: CDH-20932
---
 .../security/visibility/VisibilityController.java  |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

diff --git a/hbase-server/src/main/java/org/apache/hadoop/hbase/security/visibility/VisibilityController.java b/hbase-server/src/main/java/org/apache/hadoop/hbase/security/visibility/VisibilityController.java
index 7d1d742..80525c9 100644
--- a/hbase-server/src/main/java/org/apache/hadoop/hbase/security/visibility/VisibilityController.java
+++ b/hbase-server/src/main/java/org/apache/hadoop/hbase/security/visibility/VisibilityController.java
@@ -476,7 +476,7 @@ public class VisibilityController extends BaseRegionObserver implements MasterOb
   @Override
   public boolean preBalanceSwitch(ObserverContext<MasterCoprocessorEnvironment> ctx,
       boolean newValue) throws IOException {
-    return false;
+    return newValue;
   }
 
   @Override
-- 
1.7.0.4

