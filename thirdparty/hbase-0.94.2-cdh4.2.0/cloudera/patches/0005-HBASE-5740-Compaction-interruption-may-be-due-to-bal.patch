From dc138376295affe507cde71178a5f20c9066691d Mon Sep 17 00:00:00 2001
From: Himanshu <himanshu@cloudera.com>
Date: Sun, 14 Oct 2012 17:07:04 -0600
Subject: [PATCH 005/196] HBASE-5740 Compaction interruption may be due to balancing

Reason: Bug
Author: Michael Stack, Jimmy Xiang
Ref: CDH-4963
---
 .../apache/hadoop/hbase/regionserver/HRegion.java  |    2 +-
 .../apache/hadoop/hbase/regionserver/Store.java    |    2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

diff --git a/src/main/java/org/apache/hadoop/hbase/regionserver/HRegion.java b/src/main/java/org/apache/hadoop/hbase/regionserver/HRegion.java
index 7204a8b..42ca086 100644
--- a/src/main/java/org/apache/hadoop/hbase/regionserver/HRegion.java
+++ b/src/main/java/org/apache/hadoop/hbase/regionserver/HRegion.java
@@ -1207,7 +1207,7 @@ public class HRegion implements HeapSize { // , Writable{
           status.setStatus("Compacting store " + cr.getStore());
           cr.getStore().compact(cr);
         } catch (InterruptedIOException iioe) {
-          String msg = "compaction interrupted by user";
+          String msg = "compaction interrupted";
           LOG.info(msg, iioe);
           status.abort(msg);
           return false;
diff --git a/src/main/java/org/apache/hadoop/hbase/regionserver/Store.java b/src/main/java/org/apache/hadoop/hbase/regionserver/Store.java
index 20164ea..8b360da 100644
--- a/src/main/java/org/apache/hadoop/hbase/regionserver/Store.java
+++ b/src/main/java/org/apache/hadoop/hbase/regionserver/Store.java
@@ -1614,7 +1614,7 @@ public class Store extends SchemaConfigured implements HeapSize {
                     throw new InterruptedIOException(
                         "Aborting compaction of store " + this +
                         " in region " + this.region +
-                        " because user requested stop.");
+                        " because it was interrupted.");
                   }
                 }
               }
-- 
1.7.0.4

