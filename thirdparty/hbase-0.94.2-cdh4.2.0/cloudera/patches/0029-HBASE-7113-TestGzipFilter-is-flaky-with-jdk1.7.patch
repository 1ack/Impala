From e15f3c4e08f78ee3816ce3d555d3a73eb5f5cddb Mon Sep 17 00:00:00 2001
From: Jimmy Xiang <jxiang@cloudera.com>
Date: Wed, 7 Nov 2012 09:13:57 -0800
Subject: [PATCH 029/202] HBASE-7113 TestGzipFilter is flaky with jdk1.7

Reason: Test
Author: Jimmy Xiang
Ref: CDH-8954
---
 .../apache/hadoop/hbase/rest/TestGzipFilter.java   |    5 +++--
 1 files changed, 3 insertions(+), 2 deletions(-)

diff --git a/src/test/java/org/apache/hadoop/hbase/rest/TestGzipFilter.java b/src/test/java/org/apache/hadoop/hbase/rest/TestGzipFilter.java
index 570addd..4db967f 100644
--- a/src/test/java/org/apache/hadoop/hbase/rest/TestGzipFilter.java
+++ b/src/test/java/org/apache/hadoop/hbase/rest/TestGzipFilter.java
@@ -116,6 +116,8 @@ public class TestGzipFilter {
     is.read(value, 0, VALUE_1.length);
     assertTrue(Bytes.equals(value, VALUE_1));
     is.close();
+
+    testScannerResultCodes();
   }
 
   @Test
@@ -133,8 +135,7 @@ public class TestGzipFilter {
     assertTrue(contentEncoding == null || !contentEncoding.contains("gzip"));
   }
 
-  @Test
-  public void testScannerResultCodes() throws Exception {
+  void testScannerResultCodes() throws Exception {
     Header[] headers = new Header[3];
     headers[0] = new Header("Content-Type", Constants.MIMETYPE_XML);
     headers[1] = new Header("Accept", Constants.MIMETYPE_JSON);
-- 
1.7.0.4

