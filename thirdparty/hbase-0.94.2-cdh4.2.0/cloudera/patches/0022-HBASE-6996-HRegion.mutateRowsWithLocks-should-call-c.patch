From 859df2227f2e1a19e5abc62d209481aeb99d69c6 Mon Sep 17 00:00:00 2001
From: Lars Hofhansl <larsh@apache.org>
Date: Tue, 16 Oct 2012 05:12:12 +0000
Subject: [PATCH 022/202] HBASE-6996 HRegion.mutateRowsWithLocks should call checkResources/checkReadOnl

Reason: Bug
Author: Lars Hofhansl
Ref: CDH-8745
---
 .../apache/hadoop/hbase/regionserver/HRegion.java  |    3 +++
 1 files changed, 3 insertions(+), 0 deletions(-)

diff --git a/src/main/java/org/apache/hadoop/hbase/regionserver/HRegion.java b/src/main/java/org/apache/hadoop/hbase/regionserver/HRegion.java
index a532e83..d5ca52f 100644
--- a/src/main/java/org/apache/hadoop/hbase/regionserver/HRegion.java
+++ b/src/main/java/org/apache/hadoop/hbase/regionserver/HRegion.java
@@ -4230,6 +4230,9 @@ public class HRegion implements HeapSize { // , Writable{
       Collection<byte[]> rowsToLock) throws IOException {
     boolean flush = false;
 
+    checkReadOnly();
+    checkResources();
+
     startRegionOperation();
     List<Integer> acquiredLocks = null;
     try {
-- 
1.7.0.4

