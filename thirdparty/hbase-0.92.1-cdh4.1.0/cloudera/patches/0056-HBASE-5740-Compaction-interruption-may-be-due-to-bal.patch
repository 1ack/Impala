From 04311444e8123a55eb46720f1b22e536395cc692 Mon Sep 17 00:00:00 2001
From: Michael Stack <stack@apache.org>
Date: Mon, 9 Apr 2012 22:58:19 +0000
Subject: [PATCH 056/151] HBASE-5740 Compaction interruption may be due to balacing

Reason: Bug
Author: Michael Stack, Jimmy Xiang
Ref: CDH-4963
---
 .../apache/hadoop/hbase/regionserver/HRegion.java  |    2 +-
 .../apache/hadoop/hbase/regionserver/Store.java    |    2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

diff --git a/src/main/java/org/apache/hadoop/hbase/regionserver/HRegion.java b/src/main/java/org/apache/hadoop/hbase/regionserver/HRegion.java
index cf47eab..b1a3f4d 100644
--- a/src/main/java/org/apache/hadoop/hbase/regionserver/HRegion.java
+++ b/src/main/java/org/apache/hadoop/hbase/regionserver/HRegion.java
@@ -1038,7 +1038,7 @@ public class HRegion implements HeapSize { // , Writable{
           status.setStatus("Compacting store " + cr.getStore());
           cr.getStore().compact(cr);
         } catch (InterruptedIOException iioe) {
-          String msg = "compaction interrupted by user";
+          String msg = "compaction interrupted";
           LOG.info(msg, iioe);
           status.abort(msg);
           return false;
diff --git a/src/main/java/org/apache/hadoop/hbase/regionserver/Store.java b/src/main/java/org/apache/hadoop/hbase/regionserver/Store.java
index ca5db28..1b96553 100644
--- a/src/main/java/org/apache/hadoop/hbase/regionserver/Store.java
+++ b/src/main/java/org/apache/hadoop/hbase/regionserver/Store.java
@@ -1285,7 +1285,7 @@ public class Store implements HeapSize {
                     throw new InterruptedIOException(
                         "Aborting compaction of store " + this +
                         " in region " + this.region +
-                        " because user requested stop.");
+                        " because it was interrupted.");
                   }
                 }
               }
-- 
1.7.0.4

