From 438a122483a91ca98efab4149b21afd9f790d58f Mon Sep 17 00:00:00 2001
From: Jimmy Xiang <jxiang@cloudera.com>
Date: Mon, 7 May 2012 14:28:30 -0700
Subject: [PATCH 022/151] HBASE-5952 Sync hardcoded default flush size and max file size with hbase-default.xml

Reason: Bug
Author: Jimmy Xiang
Ref: CDH-5679
---
 .../java/org/apache/hadoop/hbase/HConstants.java   |    2 +-
 .../org/apache/hadoop/hbase/HTableDescriptor.java  |    2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

diff --git a/src/main/java/org/apache/hadoop/hbase/HConstants.java b/src/main/java/org/apache/hadoop/hbase/HConstants.java
index 9e3522e..d247165 100644
--- a/src/main/java/org/apache/hadoop/hbase/HConstants.java
+++ b/src/main/java/org/apache/hadoop/hbase/HConstants.java
@@ -195,7 +195,7 @@ public final class HConstants {
   public static final String HREGION_COMPACTIONDIR_NAME = "compaction.dir";
 
   /** Default maximum file size */
-  public static final long DEFAULT_MAX_FILE_SIZE = 256 * 1024 * 1024;
+  public static final long DEFAULT_MAX_FILE_SIZE = 1024 * 1024 * 1024;
 
   /** Default size of a reservation block   */
   public static final int DEFAULT_SIZE_RESERVATION_BLOCK = 1024 * 1024 * 5;
diff --git a/src/main/java/org/apache/hadoop/hbase/HTableDescriptor.java b/src/main/java/org/apache/hadoop/hbase/HTableDescriptor.java
index 84a0d1a..e02a20d 100644
--- a/src/main/java/org/apache/hadoop/hbase/HTableDescriptor.java
+++ b/src/main/java/org/apache/hadoop/hbase/HTableDescriptor.java
@@ -158,7 +158,7 @@ public class HTableDescriptor implements WritableComparable<HTableDescriptor> {
    * Constant that denotes the maximum default size of the memstore after which 
    * the contents are flushed to the store files
    */
-  public static final long DEFAULT_MEMSTORE_FLUSH_SIZE = 1024*1024*64L;
+  public static final long DEFAULT_MEMSTORE_FLUSH_SIZE = 1024*1024*128L;
 
   private volatile Boolean meta = null;
   private volatile Boolean root = null;
-- 
1.7.0.4

