From ac1c0ecb7a1612c4629c306ec2e35676a4ba3209 Mon Sep 17 00:00:00 2001
From: Carl Steinbach <carl@cloudera.com>
Date: Wed, 25 Jan 2012 17:53:45 -0800
Subject: [PATCH 16/58] HIVE-2748. Upgrade HBase and ZK dependencies

Reason: Task
Author: Ashutosh Chauhan
Ref: CDH-4271
---
 .../apache/hadoop/hive/hbase/HBaseTestSetup.java   |    6 +++---
 ivy/libraries.properties                           |    6 +++---
 2 files changed, 6 insertions(+), 6 deletions(-)

diff --git a/src/hbase-handler/src/test/org/apache/hadoop/hive/hbase/HBaseTestSetup.java b/src/hbase-handler/src/test/org/apache/hadoop/hive/hbase/HBaseTestSetup.java
index a956746..6743e57 100644
--- a/src/hbase-handler/src/test/org/apache/hadoop/hive/hbase/HBaseTestSetup.java
+++ b/src/hbase-handler/src/test/org/apache/hadoop/hive/hbase/HBaseTestSetup.java
@@ -28,9 +28,9 @@ import junit.framework.Test;
 import org.apache.hadoop.hbase.HBaseConfiguration;
 import org.apache.hadoop.hbase.HConstants;
 import org.apache.hadoop.hbase.MiniHBaseCluster;
-import org.apache.hadoop.hbase.zookeeper.MiniZooKeeperCluster;
 import org.apache.hadoop.hbase.client.HConnectionManager;
 import org.apache.hadoop.hbase.client.HTable;
+import org.apache.hadoop.hbase.zookeeper.MiniZooKeeperCluster;
 import org.apache.hadoop.hive.conf.HiveConf;
 import org.apache.hadoop.mapred.JobConf;
 import org.apache.zookeeper.Watcher;
@@ -61,7 +61,7 @@ public class HBaseTestSetup extends TestSetup {
       setUpFixtures(conf);
     }
     conf.set("hbase.rootdir", hbaseRoot);
-    conf.set("hbase.master", hbaseCluster.getHMasterAddress().toString());
+    conf.set("hbase.master", hbaseCluster.getMaster().toString());
     conf.set("hbase.zookeeper.property.clientPort",
       Integer.toString(zooKeeperPort));
     String auxJars = conf.getAuxJars();
@@ -88,7 +88,7 @@ public class HBaseTestSetup extends TestSetup {
     hbaseConf.setInt("hbase.regionserver.port", findFreePort());
     hbaseConf.setInt("hbase.regionserver.info.port", -1);
     hbaseCluster = new MiniHBaseCluster(hbaseConf, NUM_REGIONSERVERS);
-    conf.set("hbase.master", hbaseCluster.getHMasterAddress().toString());
+    conf.set("hbase.master", hbaseCluster.getMaster().toString());
     // opening the META table ensures that cluster is running
     new HTable(new HBaseConfiguration(conf), HConstants.META_TABLE_NAME);
   }
diff --git a/src/ivy/libraries.properties b/src/ivy/libraries.properties
index 3554267..6d12f1b 100644
--- a/src/ivy/libraries.properties
+++ b/src/ivy/libraries.properties
@@ -38,8 +38,8 @@ commons-logging-api.version=1.0.4
 commons-pool.version=1.5.4
 derby.version=10.4.2.0
 guava.version=r06
-hbase.version=0.89.0-SNAPSHOT
-hbase-test.version=0.89.0-SNAPSHOT
+hbase.version=0.92.0
+hbase-test.version=0.92.0
 javaewah.version=0.3
 jdo-api.version=2.3-ec
 jdom.version=1.1
@@ -54,5 +54,5 @@ mockito-all.version=1.8.2
 slf4j-api.version=1.6.1
 slf4j-log4j12.version=1.6.1
 velocity.version=1.5
-zookeeper.version=3.3.1
+zookeeper.version=3.4.2
 
-- 
1.7.0.4

