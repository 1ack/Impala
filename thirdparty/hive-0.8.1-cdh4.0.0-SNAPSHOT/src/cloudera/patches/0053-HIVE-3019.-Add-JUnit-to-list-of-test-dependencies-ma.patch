From 78ab68970e968ed78637b47ade66ca67a2141d40 Mon Sep 17 00:00:00 2001
From: Carl Steinbach <carl@cloudera.com>
Date: Sat, 12 May 2012 22:44:57 -0700
Subject: [PATCH 53/58] HIVE-3019. Add JUnit to list of test dependencies managed by Ivy

Reason: Bug
Author: Carl Steinbach
Ref: CDH-5813
---
 cli/ivy.xml           |    7 +++++--
 contrib/ivy.xml       |    3 +++
 hbase-handler/ivy.xml |    3 +++
 hwi/ivy.xml           |    3 +++
 jdbc/ivy.xml          |    3 +++
 metastore/ivy.xml     |    3 +++
 pdk/ivy.xml           |    4 ++++
 ql/ivy.xml            |    7 ++++++-
 serde/ivy.xml         |    3 +++
 service/ivy.xml       |    3 +++
 shims/ivy.xml         |    4 ++++
 11 files changed, 40 insertions(+), 3 deletions(-)

diff --git a/src/cli/ivy.xml b/src/cli/ivy.xml
index c40e1fa..d2f96c9 100644
--- a/src/cli/ivy.xml
+++ b/src/cli/ivy.xml
@@ -54,8 +54,11 @@
                 conf="runtime" transitive="false"/>
     <dependency org="org.apache.hive" name="hive-shims" rev="${version}"
                 conf="runtime" transitive="false"/>
-    
+
     <!-- Test Dependencies -->
-    <dependency org="org.mockito" name="mockito-all" rev="${mockito-all.version}" />
+    <dependency org="junit" name="junit"
+                rev="${junit.version}" conf="test->default" />
+    <dependency org="org.mockito" name="mockito-all"
+                rev="${mockito-all.version}" conf="test->default" />
   </dependencies>
 </ivy-module>
diff --git a/src/contrib/ivy.xml b/src/contrib/ivy.xml
index a699970..47d63b7 100644
--- a/src/contrib/ivy.xml
+++ b/src/contrib/ivy.xml
@@ -45,5 +45,8 @@
                 transitive="false"/>
     <dependency org="commons-codec" name="commons-codec" rev="${commons-codec.version}"
                 transitive="false"/>
+
+    <!-- Test Dependencies -->
+    <dependency org="junit" name="junit" rev="${junit.version}" conf="test->default" />
   </dependencies>
 </ivy-module>
diff --git a/src/hbase-handler/ivy.xml b/src/hbase-handler/ivy.xml
index 99f439f..6599a13 100644
--- a/src/hbase-handler/ivy.xml
+++ b/src/hbase-handler/ivy.xml
@@ -61,5 +61,8 @@
                 conf="test->default">
       <artifact name="hadoop-yarn-server-tests" type="tests" ext="jar" m:classifier="tests"/>
     </dependency>
+
+    <!-- Test Dependencies -->
+    <dependency org="junit" name="junit" rev="${junit.version}" conf="test->default" />
   </dependencies>
 </ivy-module>
diff --git a/src/hwi/ivy.xml b/src/hwi/ivy.xml
index 8dc0334..6dab605 100644
--- a/src/hwi/ivy.xml
+++ b/src/hwi/ivy.xml
@@ -41,5 +41,8 @@
                 transitive="false"/>
     <dependency org="commons-logging" name="commons-logging-api" rev="${commons-logging-api.version}"
                 transitive="false"/>
+
+    <!-- Test Dependencies -->
+    <dependency org="junit" name="junit" rev="${junit.version}" conf="test->default" />
   </dependencies>
 </ivy-module>
diff --git a/src/jdbc/ivy.xml b/src/jdbc/ivy.xml
index 5c95c71..0eed98a 100644
--- a/src/jdbc/ivy.xml
+++ b/src/jdbc/ivy.xml
@@ -39,5 +39,8 @@
                 transitive="false"/>
     <dependency org="commons-logging" name="commons-logging" rev="${commons-logging.version}"
                 transitive="false"/>
+
+    <!-- Test Dependencies -->
+    <dependency org="junit" name="junit" rev="${junit.version}" conf="test->default" />
   </dependencies>
 </ivy-module>
diff --git a/src/metastore/ivy.xml b/src/metastore/ivy.xml
index cbea8c8..2eaaafe 100644
--- a/src/metastore/ivy.xml
+++ b/src/metastore/ivy.xml
@@ -67,5 +67,8 @@
     <dependency org="org.apache.thrift" name="libfb303" rev="${libfb303.version}"
                 transitive="false"/>
     <dependency org="asm" name="asm" rev="${asm.version}"/>
+
+    <!-- Test Dependencies -->
+    <dependency org="junit" name="junit" rev="${junit.version}" conf="test->default" />
   </dependencies>
 </ivy-module>
diff --git a/src/pdk/ivy.xml b/src/pdk/ivy.xml
index 9fc165f..13c2d84 100644
--- a/src/pdk/ivy.xml
+++ b/src/pdk/ivy.xml
@@ -27,5 +27,9 @@
     <include file="${ivy.conf.dir}/common-configurations.xml"/>
   </configurations>
   <dependencies>
+    <dependency org="org.apache.hive" name="hive-cli" rev="${version}"
+                conf="compile->default" transitive="false" />
+    <dependency org="junit" name="junit" rev="${junit.version}"
+                conf="compile->default" />
   </dependencies>
 </ivy-module>
diff --git a/src/ql/ivy.xml b/src/ql/ivy.xml
index 8244a36..1dd1e4a 100644
--- a/src/ql/ivy.xml
+++ b/src/ql/ivy.xml
@@ -71,7 +71,12 @@
                 transitive="false"/>
     <dependency org="org.apache.avro" name="avro-mapred" rev="${avro.version}"
                 transitive="false"/>
-        
+
+
+    <!-- Test Dependencies -->
+    <dependency org="junit" name="junit" rev="${junit.version}"
+                conf="test->default" />
+    
     <!-- Hack to get jobclient tests dependency in. -->
     <dependency org="org.apache.hadoop" name="hadoop-mapreduce-client-jobclient" rev="${hadoop.version.ant-internal}"
                 conf="test->default">
diff --git a/src/serde/ivy.xml b/src/serde/ivy.xml
index 5dc2a27..faf223d 100644
--- a/src/serde/ivy.xml
+++ b/src/serde/ivy.xml
@@ -48,5 +48,8 @@
                 transitive="false"/>
     <dependency org="commons-codec" name="commons-codec" rev="${commons-codec.version}"
                 transitive="false"/>
+
+    <!-- Test Dependencies -->
+    <dependency org="junit" name="junit" rev="${junit.version}" conf="test->default" />
   </dependencies>
 </ivy-module>
diff --git a/src/service/ivy.xml b/src/service/ivy.xml
index dd30158..9d3a219 100644
--- a/src/service/ivy.xml
+++ b/src/service/ivy.xml
@@ -41,5 +41,8 @@
                 transitive="false"/>
     <dependency org="commons-logging" name="commons-logging-api" rev="${commons-logging-api.version}"
                 transitive="false"/>
+
+    <!-- Test Dependencies -->
+    <dependency org="junit" name="junit" rev="${junit.version}" conf="test->default" />
   </dependencies>
 </ivy-module>
diff --git a/src/shims/ivy.xml b/src/shims/ivy.xml
index dbb1134..1e916a0 100644
--- a/src/shims/ivy.xml
+++ b/src/shims/ivy.xml
@@ -48,6 +48,10 @@
                 transitive="false"/>
     <dependency org="org.codehaus.jackson" name="jackson-core-asl" rev="${jackson.version}"/>
     <dependency org="org.codehaus.jackson" name="jackson-mapper-asl" rev="${jackson.version}"/>
+
+    <!-- Test Dependencies -->
+    <dependency org="junit" name="junit" rev="${junit.version}" conf="test->default" />
+
     <conflict manager="all" />
   </dependencies>
 </ivy-module>
-- 
1.7.0.4

