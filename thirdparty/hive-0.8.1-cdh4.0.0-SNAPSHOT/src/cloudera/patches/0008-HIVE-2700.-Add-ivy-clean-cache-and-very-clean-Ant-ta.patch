From 42781f0a952fe3ca39ecb334a678d4ab101aeac2 Mon Sep 17 00:00:00 2001
From: Carl Steinbach <carl@cloudera.com>
Date: Tue, 10 Jan 2012 15:26:17 -0800
Subject: [PATCH 08/58] HIVE-2700. Add 'ivy-clean-cache' and 'very-clean' Ant targets

Reason: Improvement
Author: Carl Steinbach
Ref: CDH-4053
---
 build.xml |    7 +++++++
 1 files changed, 7 insertions(+), 0 deletions(-)

diff --git a/src/build.xml b/src/build.xml
index 22d61b8..71e33eb 100644
--- a/src/build.xml
+++ b/src/build.xml
@@ -261,6 +261,10 @@
     </fail>
   </target>
 
+  <target name="ivy-clean-cache" depends="ivy-init-antlib"
+          description="Clean the Ivy cache">
+    <ivy:cleancache />
+  </target>
 
   <target name="init" depends="ivy-init-antlib,deploy-ant-tasks">
     <echo message="Project: ${ant.project.name}"/>
@@ -401,6 +405,9 @@
     </delete>
   </target>
 
+  <target name="very-clean" unless="offline" depends="ivy-clean-cache,clean"
+          description="Clean build artifacts and flush Ivy cache" />
+
   <!-- ====================================================== -->
   <!-- Generate some of the test data.                        -->
   <!-- ====================================================== -->
-- 
1.7.0.4

