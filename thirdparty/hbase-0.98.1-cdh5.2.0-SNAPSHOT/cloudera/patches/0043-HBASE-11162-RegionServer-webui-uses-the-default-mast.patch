From 72737978e73a8163e4525568ddbf6b0dce0eb1f8 Mon Sep 17 00:00:00 2001
From: Jimmy Xiang <jxiang@cloudera.com>
Date: Thu, 12 Jun 2014 20:06:10 -0700
Subject: [PATCH 43/72] HBASE-11162 RegionServer webui uses the default master info port irrespective of the user configuration (Srikanth)

Reason: Bug
Author: Srikanth
Ref: CDH-9224
---
 .../org/apache/hadoop/hbase/master/HMaster.java    |    3 ++-
 1 files changed, 2 insertions(+), 1 deletions(-)

diff --git a/hbase-server/src/main/java/org/apache/hadoop/hbase/master/HMaster.java b/hbase-server/src/main/java/org/apache/hadoop/hbase/master/HMaster.java
index 0988210..7f2a6d1 100644
--- a/hbase-server/src/main/java/org/apache/hadoop/hbase/master/HMaster.java
+++ b/hbase-server/src/main/java/org/apache/hadoop/hbase/master/HMaster.java
@@ -1325,7 +1325,8 @@ MasterServices, Server {
   protected RegionServerStartupResponse.Builder createConfigurationSubset() {
     RegionServerStartupResponse.Builder resp = addConfig(
       RegionServerStartupResponse.newBuilder(), HConstants.HBASE_DIR);
-    return addConfig(resp, "fs.default.name");
+    resp = addConfig(resp, "fs.default.name");
+    return addConfig(resp, "hbase.master.info.port");
   }
 
   private RegionServerStartupResponse.Builder addConfig(
-- 
1.7.0.4

