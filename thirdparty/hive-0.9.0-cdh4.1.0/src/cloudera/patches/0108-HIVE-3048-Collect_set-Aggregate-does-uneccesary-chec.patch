From 5b8018d780e555ca0905bc049b4d981c56a73866 Mon Sep 17 00:00:00 2001
From: Ashutosh Chauhan <hashutosh@apache.org>
Date: Tue, 26 Jun 2012 16:03:51 +0000
Subject: [PATCH 108/144] HIVE-3048 : Collect_set Aggregate does uneccesary check for value. (Ed Capriolo via Ashutosh Chauhan)

git-svn-id: https://svn.apache.org/repos/asf/hive/trunk@1354079 13f79535-47bb-0310-9956-ffa450edef68
(cherry picked from commit ce506ed5104c2bab31f627272facfc2c9e8c2b48)
---
 .../hive/ql/udf/generic/GenericUDAFCollectSet.java |    2 --
 1 files changed, 0 insertions(+), 2 deletions(-)

diff --git a/src/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFCollectSet.java b/src/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFCollectSet.java
index b8241b5..1a98812 100644
--- a/src/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFCollectSet.java
+++ b/src/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDAFCollectSet.java
@@ -156,8 +156,6 @@ public class GenericUDAFCollectSet extends AbstractGenericUDAFResolver {
     }
     
     private void putIntoSet(Object p, MkArrayAggregationBuffer myagg) {
-      if (myagg.container.contains(p))
-        return;
       Object pCopy = ObjectInspectorUtils.copyToStandardObject(p,
           this.inputOI);
       myagg.container.add(pCopy);
-- 
1.7.0.4

