From 7319bfd29b3c648b47a2bdb8c46c4fc2f47b407a Mon Sep 17 00:00:00 2001
From: Carl Steinbach <cws@apache.org>
Date: Tue, 24 Apr 2012 20:35:23 +0000
Subject: [PATCH 015/144] HIVE-2976. Fix maven-build Ant target (Thomas Weise and Andrew Bayer via cws)

git-svn-id: https://svn.apache.org/repos/asf/hive/trunk@1329997 13f79535-47bb-0310-9956-ffa450edef68
---
 build.xml          |    2 +-
 builtins/build.xml |    2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

diff --git a/src/build.xml b/src/build.xml
index b864caf..e2df47c 100644
--- a/src/build.xml
+++ b/src/build.xml
@@ -971,7 +971,7 @@
 	     uri="urn:maven-artifact-ant" classpathref="maven-ant-tasks.classpath" />
   </target>
   
-  <target name="maven-build" depends="jar" description="Build Maven artifacts">
+  <target name="maven-build" depends="package" description="Build Maven artifacts">
     <echo message="Project: ${ant.project.name}"/>
     <!-- create jars, poms licences directory -->
     <mkdir dir="${mvn.jar.dir}" />
diff --git a/src/builtins/build.xml b/src/builtins/build.xml
index 22e1d1a..2be90b6 100644
--- a/src/builtins/build.xml
+++ b/src/builtins/build.xml
@@ -27,7 +27,7 @@
     <!-- defer compilation until package phase -->
   </target>
 
-  <target name="jar" depends="init">
+  <target name="jar" depends="init, setup, ivy-retrieve">
     <echo message="Project: ${ant.project.name}"/>
     <!-- defer compilation until package phase -->
   </target>
-- 
1.7.0.4

