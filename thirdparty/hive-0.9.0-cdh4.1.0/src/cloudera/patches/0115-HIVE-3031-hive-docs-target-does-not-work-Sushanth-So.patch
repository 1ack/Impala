From abf4915eae213bc8a4b2fd729e50d6053c8f21c2 Mon Sep 17 00:00:00 2001
From: Ashutosh Chauhan <hashutosh@apache.org>
Date: Sat, 19 May 2012 06:24:52 +0000
Subject: [PATCH 115/144] HIVE-3031 : hive docs target does not work (Sushanth Sowmyan via Ashutosh Chauhan)

git-svn-id: https://svn.apache.org/repos/asf/hive/trunk@1340348 13f79535-47bb-0310-9956-ffa450edef68
(cherry picked from commit 6da5f0b69f2182cea19d59bfaee9e0bfe630d594)
---
 build.xml |    2 +-
 ivy.xml   |    2 ++
 2 files changed, 3 insertions(+), 1 deletions(-)

diff --git a/src/build.xml b/src/build.xml
index 4eb6b1c..3800e1a 100644
--- a/src/build.xml
+++ b/src/build.xml
@@ -674,7 +674,7 @@
   <!-- Documentation                                                      -->
   <!-- ================================================================== -->
 
-  <target name="docs" description="Generate documentation">
+  <target name="docs" description="Generate documentation" depends="ivy-init-antlib">
     <echo message="Project: ${ant.project.name}"/>
     <antcall target="docs-anakia"/>
   </target>
diff --git a/src/ivy.xml b/src/ivy.xml
index 8975472..2ec5956 100644
--- a/src/ivy.xml
+++ b/src/ivy.xml
@@ -41,6 +41,8 @@
      conf="checkstyle->default"/>
    <dependency org="org.jdom" name="jdom" rev="${jdom.version}"
      conf="docs->default"/>
+   <dependency org="org.apache.velocity" name="velocity" rev="${velocity.version}"
+     conf="docs->default"/>
    <dependency org="org.apache.maven" name="maven-ant-tasks" rev="${maven-ant-tasks.version}"
      conf="maven->default"/>
    <conflict manager="all" />
-- 
1.7.0.4

