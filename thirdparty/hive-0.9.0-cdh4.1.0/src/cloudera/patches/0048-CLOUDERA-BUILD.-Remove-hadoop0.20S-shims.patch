From 91e118d563ae2236f8e304f03ad4f4eaa376b6d2 Mon Sep 17 00:00:00 2001
From: Zhenxiao Luo <zhenxiao@cloudera.com>
Date: Tue, 3 Jul 2012 16:44:23 -0700
Subject: [PATCH 048/148] CLOUDERA-BUILD. Remove hadoop0.20S shims

---
 shims/build.xml |   48 ------------------------------------------------
 1 files changed, 0 insertions(+), 48 deletions(-)

diff --git a/src/shims/build.xml b/src/shims/build.xml
index f9182f4..ddab451 100644
--- a/src/shims/build.xml
+++ b/src/shims/build.xml
@@ -40,18 +40,6 @@ to call at top-level: ant deploy-contrib compile-core-test
   <property name="shims.0.20S.hadoop.ivy.dir" value="${hive.root}/build/ivy/lib/hadoop0.20S.shim" />
   <property name="shims.0.23.hadoop.ivy.dir" value="${hive.root}/build/ivy/lib/hadoop0.23.shim" />
 
-  <path id="test.classpath">
-    <pathelement location="${test.build.classes}" />
-    <pathelement location="" />
-    <pathelement location="${test.src.data.dir}/conf"/>
-    <pathelement location="${hive.conf.dir}"/>
-    <!-- We are running unit tests like the one inside ql -->
-    <fileset dir="${hive.root}/testlibs" includes="*.jar" />
-    <fileset dir="${shims.0.20S.hadoop.ivy.dir}" includes="*.jar" excludes="slf4j-*.jar" />
-    <fileset dir="../lib" includes="*.jar" />
-    <path refid="classpath" />
-  </path>
-
   <target name="build_shims"
           description="Build shims against a particular hadoop version">
     <echo message="Project: ${ant.project.name}"/>
@@ -95,42 +83,6 @@ to call at top-level: ant deploy-contrib compile-core-test
     </for>  	
   </target>
   
-  <target name="compile_secure_test" 
-          description="Test shims against a particular hadoop version">
-    <echo message="Project: ${ant.project.name}"/>
-    <getversionpref property="hadoop.version.ant-internal.prefix" input="${hadoop.version.ant-internal}" />
-    <echo message="Compiling shim tests against hadoop ${hadoop.version.ant-internal} (${hadoop.root})"/>
-    <javac
-     encoding="${build.encoding}"
-     srcdir="${test.src.dir}"
-     includes="org/apache/hadoop/**/*.java"
-     excludes="**/TestSerDe.java"
-     destdir="${test.build.classes}"
-     debug="${javac.debug}"
-     optimize="${javac.optimize}"
-     target="${javac.version}"
-     source="${javac.version}"
-     deprecation="${javac.deprecation}"
-     includeantruntime="false">
-      <compilerarg line="${javac.args} ${javac.args.warnings}" />
-      <classpath refid="test.classpath"/>
-    </javac>
-    <javac
-     encoding="${build.encoding}"
-     srcdir="${test.build.src}"
-     includes="org/apache/hadoop/**/*.java"
-     destdir="${test.build.classes}"
-     debug="${javac.debug}"
-     optimize="${javac.optimize}"
-     target="${javac.version}"
-     source="${javac.version}"
-     deprecation="${javac.deprecation}"
-     includeantruntime="false">
-      <compilerarg line="${javac.args} ${javac.args.warnings}" />
-      <classpath refid="test.classpath"/>
-    </javac>
-  </target>
-  
   <target name="compile-test" depends="compile,ivy-retrieve-test">
     <echo message="Project: ${ant.project.name}"/>
   </target>
-- 
1.7.0.4

