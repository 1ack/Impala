From 354b0f227c2a5181262be2822554c016e9d58afc Mon Sep 17 00:00:00 2001
From: Zhenxiao Luo <zhenxiao@cloudera.com>
Date: Mon, 9 Jul 2012 22:27:32 -0700
Subject: [PATCH 116/144] HIVE-2990 Remove hadoop-source Ivy resolvers and Ant targets (Carl Steinbach via Ashutosh Chauhan)

    git-svn-id: https://svn.apache.org/repos/asf/hive/trunk@1333249 13f79535-47bb-0310-9956-ffa450edef68
    (cherry picked from commit a5b597e906d9ff54d7ea4fd0af2c458edb03e5b5)
---
 build-common.xml    |    9 ---------
 build.properties    |    2 --
 ivy/ivysettings.xml |    8 --------
 3 files changed, 0 insertions(+), 19 deletions(-)

diff --git a/src/build-common.xml b/src/build-common.xml
index c626034..2869021 100644
--- a/src/build-common.xml
+++ b/src/build-common.xml
@@ -246,15 +246,6 @@
       log="${ivyresolvelog}" conf="hadoop-mr2.test"/>
   </target>
 
-  <target name="ivy-retrieve-hadoop-source"
-    description="Retrieve Ivy-managed Hadoop source artifacts" unless="ivy.skip">
-    <echo message="Project: ${ant.project.name}"/>
-  	<echo message="hadoop.version.ant-internal: ${hadoop.version.ant-internal}"/>
-  	<ivy:settings id="${ant.project.name}-${hadoop.version.ant-internal}.ivy.settings" file="${ivysettings.xml}"/>
-  	<ivy:retrieve settingsRef="${ant.project.name}-${hadoop.version.ant-internal}.ivy.settings"
-      pattern="${build.dir.hadoop}/[artifact]-[revision].[ext]"/>
-  </target>
-
   <target name="ivy-resolve-test" depends="ivy-init-settings" unless="offline">
     <echo message="Project: ${ant.project.name}"/>
     <ivy:resolve settingsRef="${ant.project.name}.ivy.settings"
diff --git a/src/build.properties b/src/build.properties
index ec3acbc..b94d5f9 100644
--- a/src/build.properties
+++ b/src/build.properties
@@ -32,8 +32,6 @@ hadoop-0.23.version=0.23.1
 hadoop.version=${hadoop-0.23.version}
 shims.include=0.23
 hadoop.security.version=${hadoop-0.23.version}
-hadoop.mirror=http://mirror.facebook.net/facebook/hive-deps
-hadoop.mirror2=http://archive.cloudera.com/hive-deps
 # Used to determine which set of Hadoop artifacts we depend on.
 # - 20: hadoop-core, hadoop-test
 # - 23: hadoop-common, hadoop-mapreduce-*, etc
diff --git a/src/ivy/ivysettings.xml b/src/ivy/ivysettings.xml
index c60318b..d62ed8d 100644
--- a/src/ivy/ivysettings.xml
+++ b/src/ivy/ivysettings.xml
@@ -44,14 +44,6 @@
   <settings defaultResolver="${resolvers}"/>
 
   <resolvers>
-    <url name="hadoop-source">
-      <artifact pattern="${hadoop.mirror}/hadoop/core/[artifact]-[revision]/[artifact]-[revision].[ext]" />
-    </url>
-
-    <url name="hadoop-source2">
-      <artifact pattern="${hadoop.mirror2}/hadoop/core/[artifact]-[revision]/[artifact]-[revision].[ext]" />
-    </url>
-
     <!-- CDH build repo, the pattern attribute handles SNAPSHOT artifacts -->
     <ibiblio name="reactor-repo" root="${reactor.repo}"
              m2compatible="true"
-- 
1.7.0.4

